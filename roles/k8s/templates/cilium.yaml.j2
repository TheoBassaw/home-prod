apiVersion: helm.cattle.io/v1
kind: HelmChartConfig
metadata:
  name: rke2-cilium
  namespace: kube-system
spec:
  valuesContent: |-
    kubeProxyReplacement: true
    k8sServiceHost: "{{ cilium_service_host }}"
    k8sServicePort: 6443
    routingMode: native
    autoDirectNodeRoutes: true
    ipv4NativeRoutingCIDR: 10.42.0.0/16
    ipam:
      operator:
        clusterPoolIPv4PodCIDRList: 10.42.0.0/16
    gatewayAPI:
      enabled: true
    l7Proxy: true
    l2announcements:
      enabled: true
    k8sClientRateLimit: 
      qps=10
      burst=20