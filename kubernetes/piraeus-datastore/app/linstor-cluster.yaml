---
apiVersion: piraeus.io/v1
kind: LinstorCluster
metadata:
  name: linstor-cluster
  namespace: piraeus-datastore
spec:
  tolerations:
    - key: node-role.kubernetes.io/control-plane
      effect: NoSchedule
      operator: Exists
  highAvailabilityController:
    enabled: true
  properties:
    - name: DrbdOptions/Net/protocol
      value: C
    - name: DrbdOptions/Net/tls
      value: "yes"
    - name: DrbdOptions/Net/max-buffers
      value: "36864"
  apiTLS:
    certManager:
      name: linstor-api-ca
      kind: Issuer
  internalTLS:
    certManager:
      name: linstor-internal-ca
      kind: Issuer
