cluster_name: home-k8s
endpoint: https://10.20.0.200:6443
talos_version: v1.12.0
nodes:
  - hostname: talos-control-1.home.paradisenetworkz.com
    ip_address: 10.20.0.12
    type: controlplane
  - hostname: talos-control-2.home.paradisenetworkz.com
    ip_address: 10.20.0.30
    type: controlplane
  - hostname: talos-control-3.home.paradisenetworkz.com
    ip_address: 10.20.0.15
    type: controlplane
  - hostname: talos-worker-1.home.paradisenetworkz.com
    ip_address: 10.20.0.42
    type: worker
charts:
  - name: cilium
    chart_ref: oci://quay.io/cilium/charts/cilium
    chart_version: 1.18.6
    release_namespace: kube-system
    values: "{{ lookup('file', 'kubernetes/kube-system/cilium/app/helmrelease.yaml') | from_yaml | json_query('spec.values') }}"
  - name: spegel
    chart_ref: oci://ghcr.io/spegel-org/helm-charts/spegel
    chart_version: 0.4.0
    release_namespace: spegel
    values: "{{ lookup('file', 'kubernetes/spegel/app/helmrelease.yaml') | from_yaml | json_query('spec.values') }}"
  - name: cert-manager
    chart_ref: oci://quay.io/jetstack/charts/cert-manager
    chart_version: v1.19.2
    release_namespace: cert-manager
    values: "{{ lookup('file', 'kubernetes/cert-manager/app/helmrelease.yaml') | from_yaml | json_query('spec.values') }}"
  - name: piraeus-operator
    chart_ref: oci://ghcr.io/piraeusdatastore/piraeus-operator/piraeus
    chart_version: 2.10.3
    release_namespace: piraeus-datastore
    values: "{{ lookup('file', 'kubernetes/piraeus-datastore/app/helmrelease.yaml') | from_yaml | json_query('spec.values') }}"

  - name: flux-operator
    chart_ref: oci://ghcr.io/controlplaneio-fluxcd/charts/flux-operator
    chart_version: 0.38.1
    release_namespace: flux-system
    values: "{{ lookup('file', 'kubernetes/flux-system/app/helmrelease.yaml') | from_yaml | json_query('spec.values') }}"
